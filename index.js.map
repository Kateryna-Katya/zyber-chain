{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/**\n * ZYBER-CHAIN.BLOG - ФИНАЛЬНЫЙ СКРИПТ\n */\n\n// 1. Загрузка библиотек\nconst libs = [\n    'https://unpkg.com/split-type',\n    'https://cdn.jsdelivr.net/npm/simple-parallax-js@5.5.1/dist/simpleParallax.min.js',\n    'https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js'\n];\n\nPromise.all(libs.map(src => {\n    return new Promise((resolve) => {\n        const s = document.createElement('script');\n        s.src = src;\n        s.onload = resolve;\n        document.head.appendChild(s);\n    });\n})).then(() => {\n    initAll();\n});\n\nfunction initAll() {\n    initLenis();\n    initHeroAnimation();\n    initParallax();\n    initBenefitsAnimation();\n    initInnovationsAnimation();\n    initBlogSlider();\n    initMobileMenu();\n    initContactForm();\n    initCookiePopup();\n}\n\n// Плавный скролл Lenis\nfunction initLenis() {\n    const lenis = new Lenis();\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // Скролл по клику на ссылки\n    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n        anchor.addEventListener('click', function(e) {\n            e.preventDefault();\n            const target = document.querySelector(this.getAttribute('href'));\n            if (target) {\n                lenis.scrollTo(target);\n                // Закрыть мобильное меню если открыто\n                document.querySelector('.header__menu').classList.remove('active');\n                document.querySelector('.burger').classList.remove('active');\n            }\n        });\n    });\n}\n\n// Мобильное меню\nfunction initMobileMenu() {\n    const burger = document.querySelector('.burger');\n    const menu = document.querySelector('.header__menu');\n    \n    burger.addEventListener('click', () => {\n        burger.classList.toggle('active');\n        menu.classList.toggle('active');\n    });\n}\n\n// Hero Анимация (SplitType по словам)\nfunction initHeroAnimation() {\n    const text = new SplitType('#hero-title', { types: 'words' });\n    const tl = gsap.timeline({ defaults: { ease: \"power4.out\" } });\n\n    tl.to('.hero__badge', { opacity: 1, y: 0, duration: 1, delay: 0.5 })\n      .from('.word', { y: 40, opacity: 0, stagger: 0.1, duration: 1 }, \"-=0.8\")\n      .to('.hero__subtitle', { opacity: 1, y: 0, duration: 1 }, \"-=0.6\")\n      .to('.hero__actions', { opacity: 1, y: 0, duration: 1 }, \"-=0.8\");\n}\n\n// Параллакс\nfunction initParallax() {\n    const images = document.querySelectorAll('.parallax-img');\n    new simpleParallax(images, { delay: .6, scale: 1.3 });\n}\n\n// Анимация преимуществ\nfunction initBenefitsAnimation() {\n    gsap.from('.benefit-card', {\n        scrollTrigger: { trigger: '.benefits__grid', start: 'top 80%' },\n        y: 60, opacity: 0, duration: 1, stagger: 0.2, ease: \"power3.out\"\n    });\n}\n\n// Анимация инноваций\nfunction initInnovationsAnimation() {\n    gsap.to('.step-item', {\n        scrollTrigger: { trigger: '.innovations__steps', start: 'top 70%' },\n        opacity: 1, x: 0, duration: 1, stagger: 0.3\n    });\n}\n\n// Слайдер блога\nfunction initBlogSlider() {\n    new Swiper('.blog-slider', {\n        slidesPerView: 1, spaceBetween: 30, loop: true,\n        navigation: { nextEl: '.swiper-button-next-custom', prevEl: '.swiper-button-prev-custom' },\n        breakpoints: { 768: { slidesPerView: 2 }, 1024: { slidesPerView: 3 } }\n    });\n}\n\n// Контактная форма\nlet captchaResult;\nfunction initContactForm() {\n    const form = document.getElementById('contactForm');\n    const qField = document.getElementById('captcha-question');\n    \n    const gen = () => {\n        const n1 = Math.floor(Math.random() * 10) + 1;\n        const n2 = Math.floor(Math.random() * 10) + 1;\n        captchaResult = n1 + n2;\n        if(qField) qField.innerText = `${n1} + ${n2}`;\n    };\n    gen();\n\n    form.addEventListener('submit', (e) => {\n        e.preventDefault();\n        const userAns = parseInt(document.getElementById('captcha-input').value);\n        if(userAns !== captchaResult) {\n            document.getElementById('form-error').style.display = 'block';\n            gen();\n            return;\n        }\n        \n        const btn = form.querySelector('button');\n        btn.innerText = 'Отправка...';\n        setTimeout(() => {\n            document.getElementById('form-success').style.display = 'block';\n            document.getElementById('form-error').style.display = 'none';\n            form.reset();\n            btn.innerText = 'Отправить запрос';\n            gen();\n        }, 1500);\n    });\n}\n\n// Cookie Popup\nfunction initCookiePopup() {\n    const popup = document.getElementById('cookie-popup');\n    const acceptBtn = document.getElementById('cookie-accept');\n    \n    if (!localStorage.getItem('cookies-accepted')) {\n        setTimeout(() => { popup.classList.add('active'); }, 2000);\n    }\n\n    acceptBtn.addEventListener('click', () => {\n        localStorage.setItem('cookies-accepted', 'true');\n        popup.classList.remove('active');\n    });\n}"],"names":["libs","src","resolve","s","initAll","initLenis","initHeroAnimation","initParallax","initBenefitsAnimation","initInnovationsAnimation","initBlogSlider","initMobileMenu","initContactForm","initCookiePopup","lenis","raf","time","anchor","e","target","burger","menu","images","captchaResult","form","qField","gen","n1","n2","btn","popup","acceptBtn"],"mappings":"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"}